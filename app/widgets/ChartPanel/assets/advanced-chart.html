<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <style>
        html,
        body,
        #container {
            height: 100%;
            margin: 0;
            padding: 0;
            background: transparent;
        }
    </style>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>

<body>
    <div id="container"></div>
    <script>
        function createWidget(theme) { new TradingView.widget({ symbol: "BYBIT:BTCUSDT", autosize: true, interval: "60", timezone: "Etc/UTC", theme: theme || "light", style: "1", enable_publishing: false, allow_symbol_change: false, hide_side_toolbar: false, container_id: "container", withdateranges: true, studies: ["MASimple@tv-basicstudies"] }); }
        document.addEventListener("message", (e) => { try { const msg = JSON.parse(e.data); if (msg.type === "theme") { const theme = msg.value === "dark" ? "dark" : "light"; document.getElementById("container").innerHTML = ""; createWidget(theme); } } catch (err) { } });
        createWidget("light");
    </script>
</body>

</html>